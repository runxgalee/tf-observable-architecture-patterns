# Project Configuration
project_id   = "your-prod-gcp-project-id"
region       = "asia-northeast1"
project_name = "microservices"

# GKE Configuration
cluster_name               = "microservices"
release_channel            = "STABLE"
enable_private_cluster     = true
enable_binary_authorization = true

# Master Authorized Networks (REQUIRED for production)
# Add your authorized networks here
master_authorized_networks = [
  {
    cidr_block   = "203.0.113.0/24"
    display_name = "Office Network"
  },
  {
    cidr_block   = "198.51.100.0/24"
    display_name = "VPN Network"
  }
]

# Maintenance Window (Sunday 3:00 AM UTC)
maintenance_window_start_time = "2024-01-01T03:00:00Z"
maintenance_window_duration   = "4h"
maintenance_window_recurrence = "FREQ=WEEKLY;BYDAY=SU"

# Ingress Configuration
enable_ingress     = true
enable_managed_ssl = true

# Configure your production domains
ssl_certificate_domains = ["example.com", "www.example.com"]

# Workload Identity
enable_workload_identity = true

# Service Accounts for Workload Identity
# Modify roles according to your requirements
service_accounts = {
  backend = {
    display_name        = "Backend Service Account"
    k8s_service_account = "backend-sa"
    k8s_namespace       = "default"
    roles = [
      "roles/cloudsql.client",
      "roles/secretmanager.secretAccessor",
      "roles/storage.objectViewer"
    ]
  }
  frontend = {
    display_name        = "Frontend Service Account"
    k8s_service_account = "frontend-sa"
    k8s_namespace       = "default"
    roles = [
      "roles/secretmanager.secretAccessor"
    ]
  }
}

# Monitoring
enable_monitoring = true
enable_logging    = true

# Notification Channels (REQUIRED for production alerts)
# Create notification channels in Cloud Console and add IDs here
notification_channels = [
  "projects/your-project/notificationChannels/1234567890",
  "projects/your-project/notificationChannels/0987654321"
]

# Alert Thresholds (stricter for production)
pod_restart_threshold  = 3
node_cpu_threshold     = 75
node_memory_threshold  = 75
pod_pending_threshold  = 3
