<mxfile host="app.diagrams.net" modified="2026-01-10T00:00:00.000Z" agent="Claude Code" etag="event-driven-architecture" version="22.1.0" type="device">
  <diagram name="Event-Driven Architecture" id="event-driven-gcp">
    <mxGraphModel dx="1434" dy="844" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="900" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- Title -->
        <mxCell id="title" value="Event-Driven Architecture Pattern (GCP)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="600" y="20" width="400" height="40" as="geometry" />
        </mxCell>

        <!-- Publisher (External) -->
        <mxCell id="publisher" value="Event Publisher&#xa;(External Service)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1F5FE;strokeColor=#01579B;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="100" y="250" width="160" height="80" as="geometry" />
        </mxCell>

        <!-- Pub/Sub Topic -->
        <mxCell id="pubsub-topic" value="Pub/Sub Topic&#xa;(event_topic)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="360" y="250" width="160" height="80" as="geometry" />
        </mxCell>

        <!-- Push Subscription -->
        <mxCell id="push-subscription" value="Push Subscription&#xa;&#xa;• Retry Policy&#xa;• Ack Deadline&#xa;• Exactly-Once Delivery" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;fontSize=12;align=left;spacingLeft=10" vertex="1" parent="1">
          <mxGeometry x="610" y="230" width="180" height="120" as="geometry" />
        </mxCell>

        <!-- Cloud Run Service -->
        <mxCell id="cloudrun" value="Cloud Run Service&#xa;(event_processor)&#xa;&#xa;• Auto Scaling&#xa;• Health Checks&#xa;• VPC Connector" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#1B5E20;fontSize=14;fontStyle=1;align=left;spacingLeft=10" vertex="1" parent="1">
          <mxGeometry x="900" y="220" width="200" height="140" as="geometry" />
        </mxCell>

        <!-- Dead Letter Topic -->
        <mxCell id="dlq-topic" value="Dead Letter Topic&#xa;(dead_letter_topic)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCCBC;strokeColor=#BF360C;fontSize=14;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="620" y="480" width="160" height="80" as="geometry" />
        </mxCell>

        <!-- Dead Letter Subscription -->
        <mxCell id="dlq-subscription" value="Dead Letter&#xa;Subscription&#xa;(monitoring)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFCCBC;strokeColor=#BF360C;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="360" y="480" width="160" height="80" as="geometry" />
        </mxCell>

        <!-- Service Accounts Box -->
        <mxCell id="sa-box" value="Service Accounts" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#4A148C;fontSize=14;fontStyle=1;verticalAlign=top;align=center" vertex="1" parent="1">
          <mxGeometry x="1200" y="140" width="280" height="220" as="geometry" />
        </mxCell>

        <!-- Pub/Sub SA -->
        <mxCell id="pubsub-sa" value="Pub/Sub SA&#xa;&#xa;Roles:&#xa;• Cloud Run Invoker&#xa;• DLQ Publisher" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#4A148C;fontSize=12;align=left;spacingLeft=10" vertex="1" parent="1">
          <mxGeometry x="1220" y="180" width="120" height="80" as="geometry" />
        </mxCell>

        <!-- Cloud Run SA -->
        <mxCell id="cloudrun-sa" value="Cloud Run SA&#xa;&#xa;Roles:&#xa;• Trace Agent&#xa;• Error Writer&#xa;• Metric Writer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1BEE7;strokeColor=#4A148C;fontSize=12;align=left;spacingLeft=10" vertex="1" parent="1">
          <mxGeometry x="1220" y="270" width="120" height="80" as="geometry" />
        </mxCell>

        <!-- Monitoring Box -->
        <mxCell id="monitoring-box" value="Cloud Monitoring" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#1B5E20;fontSize=14;fontStyle=1;verticalAlign=top;align=center" vertex="1" parent="1">
          <mxGeometry x="1200" y="420" width="280" height="260" as="geometry" />
        </mxCell>

        <!-- Alert Policies -->
        <mxCell id="alerts" value="Alert Policies:&#xa;&#xa;• DLQ Messages Alert&#xa;• High Error Rate&#xa;• Old Unacked Messages" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#1B5E20;fontSize=12;align=left;spacingLeft=10" vertex="1" parent="1">
          <mxGeometry x="1220" y="460" width="240" height="80" as="geometry" />
        </mxCell>

        <!-- Log Metrics -->
        <mxCell id="log-metrics" value="Log-based Metrics:&#xa;&#xa;• Processing Success Count&#xa;• Processing Failure Count" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#1B5E20;fontSize=12;align=left;spacingLeft=10" vertex="1" parent="1">
          <mxGeometry x="1220" y="560" width="240" height="80" as="geometry" />
        </mxCell>

        <!-- Observability Services -->
        <mxCell id="observability-box" value="Observability" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFF8E1;strokeColor=#F57F17;fontSize=14;fontStyle=1;verticalAlign=top;align=center" vertex="1" parent="1">
          <mxGeometry x="900" y="420" width="200" height="260" as="geometry" />
        </mxCell>

        <mxCell id="cloud-trace" value="Cloud Trace&#xa;(Distributed Tracing)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="920" y="460" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="error-reporting" value="Error Reporting&#xa;(Error Analysis)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="920" y="540" width="160" height="60" as="geometry" />
        </mxCell>

        <mxCell id="cloud-logging" value="Cloud Logging&#xa;(Structured Logs)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;fontSize=12" vertex="1" parent="1">
          <mxGeometry x="920" y="620" width="160" height="60" as="geometry" />
        </mxCell>

        <!-- Arrows: Main Flow -->
        <mxCell id="arrow-pub-topic" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;fillColor=#4CAF50;strokeColor=#2E7D32;" edge="1" parent="1" source="publisher" target="pubsub-topic">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-pub-topic-label" value="Publish Event" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" vertex="1" connectable="0" parent="arrow-pub-topic">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="5" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-topic-sub" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;fillColor=#4CAF50;strokeColor=#2E7D32;" edge="1" parent="1" source="pubsub-topic" target="push-subscription">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-topic-sub-label" value="Subscribe" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" vertex="1" connectable="0" parent="arrow-topic-sub">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="5" y="-9" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-sub-cloudrun" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;fillColor=#4CAF50;strokeColor=#2E7D32;" edge="1" parent="1" source="push-subscription" target="cloudrun">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-sub-cloudrun-label" value="Push HTTP&#xa;(OIDC Auth)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=12;fontStyle=1" vertex="1" connectable="0" parent="arrow-sub-cloudrun">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="10" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Arrow: Retry Flow -->
        <mxCell id="arrow-retry" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#FF9800;dashed=1;dashPattern=5 5;" edge="1" parent="1" source="cloudrun" target="push-subscription">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1000" y="180" />
              <mxPoint x="700" y="180" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-retry-label" value="Retry on Failure&#xa;(Exponential Backoff)" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontStyle=1;fontColor=#E65100" vertex="1" connectable="0" parent="arrow-retry">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="20" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Arrow: Dead Letter Flow -->
        <mxCell id="arrow-to-dlq" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#D32F2F;" edge="1" parent="1" source="push-subscription" target="dlq-topic">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="700" y="400" />
              <mxPoint x="820" y="400" />
              <mxPoint x="820" y="520" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-to-dlq-label" value="Failed after&#xa;Max Attempts" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontStyle=1;fontColor=#B71C1C" vertex="1" connectable="0" parent="arrow-to-dlq">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="25" y="-15" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-dlq-sub" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=2;strokeColor=#D32F2F;" edge="1" parent="1" source="dlq-topic" target="dlq-subscription">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-dlq-sub-label" value="Monitor" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontStyle=1" vertex="1" connectable="0" parent="arrow-dlq-sub">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint y="-9" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Arrows: Service Accounts -->
        <mxCell id="arrow-pubsubsa-cloudrun" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.25;entryDx=0;entryDy=0;strokeWidth=1.5;strokeColor=#7B1FA2;dashed=1;dashPattern=3 3;" edge="1" parent="1" source="pubsub-sa" target="cloudrun">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-pubsubsa-cloudrun-label" value="Invoke" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#4A148C" vertex="1" connectable="0" parent="arrow-pubsubsa-cloudrun">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="10" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-cloudrunsa" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;strokeWidth=1.5;strokeColor=#7B1FA2;dashed=1;dashPattern=3 3;" edge="1" parent="1" source="cloudrun-sa" target="cloudrun">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-cloudrunsa-label" value="Identity" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#4A148C" vertex="1" connectable="0" parent="arrow-cloudrunsa">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="10" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Arrows: Monitoring -->
        <mxCell id="arrow-cloudrun-monitoring" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;strokeWidth=1.5;strokeColor=#558B2F;dashed=1;dashPattern=2 2;" edge="1" parent="1" source="cloudrun" target="alerts">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-cloudrun-monitoring-label" value="Metrics" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#33691E" vertex="1" connectable="0" parent="arrow-cloudrun-monitoring">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="-15" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-dlq-monitoring" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeWidth=1.5;strokeColor=#558B2F;dashed=1;dashPattern=2 2;" edge="1" parent="1" source="dlq-subscription" target="alerts">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="440" y="600" />
              <mxPoint x="1180" y="600" />
              <mxPoint x="1180" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="arrow-dlq-monitoring-label" value="Alert on Messages" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#33691E" vertex="1" connectable="0" parent="arrow-dlq-monitoring">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="155" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Arrows: Observability -->
        <mxCell id="arrow-cloudrun-trace" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1.5;strokeColor=#F9A825;dashed=1;dashPattern=2 2;" edge="1" parent="1" source="cloudrun" target="cloud-trace">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-cloudrun-trace-label" value="Traces" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#F57F17" vertex="1" connectable="0" parent="arrow-cloudrun-trace">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint y="-7" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-cloudrun-error" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1.5;strokeColor=#F9A825;dashed=1;dashPattern=2 2;" edge="1" parent="1" source="cloudrun" target="error-reporting">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-cloudrun-error-label" value="Errors" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#F57F17" vertex="1" connectable="0" parent="arrow-cloudrun-error">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="10" y="-7" as="offset" />
          </mxGeometry>
        </mxCell>

        <mxCell id="arrow-cloudrun-logs" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=1.5;strokeColor=#F9A825;dashed=1;dashPattern=2 2;" edge="1" parent="1" source="cloudrun" target="cloud-logging">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow-cloudrun-logs-label" value="Logs" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;fontColor=#F57F17" vertex="1" connectable="0" parent="arrow-cloudrun-logs">
          <mxGeometry x="-0.1" y="1" relative="1" as="geometry">
            <mxPoint x="15" y="-10" as="offset" />
          </mxGeometry>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend-box" value="Legend" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#424242;fontSize=14;fontStyle=1;verticalAlign=top;align=center" vertex="1" parent="1">
          <mxGeometry x="100" y="620" width="300" height="180" as="geometry" />
        </mxCell>

        <mxCell id="legend-main-flow" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#2E7D32;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="660" as="sourcePoint" />
            <mxPoint x="180" y="660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-main-flow-label" value="Main Event Flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="190" y="650" width="120" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-retry" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#FF9800;dashed=1;dashPattern=5 5;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="690" as="sourcePoint" />
            <mxPoint x="180" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-retry-label" value="Retry Flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="190" y="680" width="120" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-dlq" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;strokeColor=#D32F2F;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="720" as="sourcePoint" />
            <mxPoint x="180" y="720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-dlq-label" value="Dead Letter Flow" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="190" y="710" width="120" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-iam" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1.5;strokeColor=#7B1FA2;dashed=1;dashPattern=3 3;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="750" as="sourcePoint" />
            <mxPoint x="180" y="750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-iam-label" value="IAM / Auth" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="190" y="740" width="120" height="20" as="geometry" />
        </mxCell>

        <mxCell id="legend-monitoring" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=1.5;strokeColor=#558B2F;dashed=1;dashPattern=2 2;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="120" y="780" as="sourcePoint" />
            <mxPoint x="180" y="780" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-monitoring-label" value="Monitoring / Metrics" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=11" vertex="1" parent="1">
          <mxGeometry x="190" y="770" width="120" height="20" as="geometry" />
        </mxCell>

        <!-- Key Features Box -->
        <mxCell id="features-box" value="Key Features" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1565C0;fontSize=14;fontStyle=1;verticalAlign=top;align=center" vertex="1" parent="1">
          <mxGeometry x="100" y="100" width="500" height="120" as="geometry" />
        </mxCell>

        <mxCell id="features-text" value="✓ Push-based message delivery to Cloud Run&#xa;✓ Automatic retry with exponential backoff&#xa;✓ Dead Letter Queue for failed messages&#xa;✓ OIDC authentication for secure communication&#xa;✓ Exactly-once delivery (optional)&#xa;✓ Comprehensive monitoring and alerting" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=12;spacingLeft=10;spacingTop=5" vertex="1" parent="1">
          <mxGeometry x="110" y="130" width="480" height="80" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>