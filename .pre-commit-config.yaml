repos:
  - repo: local
    hooks:
      - id: terraform-fmt
        name: Terraform Format
        entry: ./scripts/pre-commit-terraform.sh fmt
        language: script
        files: ^architectures/[^/]+/gcp/.*\.tf$
        pass_filenames: true

      - id: terraform-validate
        name: Terraform Validate
        entry: ./scripts/pre-commit-terraform.sh validate
        language: script
        files: ^architectures/[^/]+/gcp/.*\.tf$
        pass_filenames: true

      - id: tflint
        name: TFLint
        entry: ./scripts/pre-commit-terraform.sh tflint
        language: script
        files: ^architectures/[^/]+/gcp/.*\.tf$
        pass_filenames: true

      - id: trivy
        name: Trivy Security Scan
        entry: ./scripts/pre-commit-terraform.sh trivy
        language: script
        files: ^architectures/[^/]+/gcp/.*\.tf$
        pass_filenames: true


