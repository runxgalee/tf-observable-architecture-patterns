flowchart TD
    Start([Task: GitHub Actions Secret Manager Integration])

    %% Phase 1: Analysis & Design
    Start --> A1[security-specialist: Security Requirements Analysis]
    A1 --> |produces: security-requirements.md| Decision1{Security Requirements Clear?}

    %% Decision: Requirements Validation
    Decision1 -->|Yes| Parallel1{Parallel Split: Infrastructure Implementation}
    Decision1 -->|No| A1

    %% Phase 2: Parallel Implementation - Infrastructure & CI/CD
    Parallel1 -->|branch 1: Terraform| A2[terraform-specialist: Extend Secret Manager Modules]
    Parallel1 -->|branch 2: CI/CD| A3[cicd-specialist: Update GitHub Actions Workflows]

    %% Terraform Branch
    A2 --> |produces: secrets.tf updates, IAM configs| Sync1((Sync Point 1: Implementation Complete))

    %% CI/CD Branch
    A3 --> |produces: workflow YAML updates| Sync1

    %% Phase 3: Integration Testing
    Sync1 --> A4[cicd-specialist: Validate Workflow Integration]
    A4 --> |runs: terraform validate, workflow syntax check| Decision2{All Validations Pass?}

    %% Decision: Test Results
    Decision2 -->|No| Debug1[debug-specialist: Investigate Issues]
    Debug1 --> |produces: debug-report.md, fixes| A2
    Decision2 -->|Yes| A5[security-specialist: Security Audit]

    %% Phase 4: Security Review
    A5 --> |produces: security-audit.md| Decision3{Security Approved?}
    Decision3 -->|No - Issues Found| A2
    Decision3 -->|Yes| A6[documentation-architect: Create Setup Documentation]

    %% Phase 5: Documentation
    A6 --> |produces: setup guides, runbooks| A7[code-reviewer: Final Review]

    %% Phase 6: Final Review
    A7 --> |produces: review-report.md| Decision4{Critical Issues?}
    Decision4 -->|Yes| A2
    Decision4 -->|No| End([Complete])

    %% Styling
    style A1 fill:#F0E68C,stroke:#DAA520,color:#000
    style A2 fill:#90EE90,stroke:#228B22,color:#000
    style A3 fill:#90EE90,stroke:#228B22,color:#000
    style A4 fill:#E8F4F8,stroke:#0066CC,color:#000
    style A5 fill:#F0E68C,stroke:#DAA520,color:#000
    style A6 fill:#E8F4F8,stroke:#0066CC,color:#000
    style A7 fill:#F0E68C,stroke:#DAA520,color:#000
    style Debug1 fill:#FFB6C1,stroke:#DC143C,color:#000
    style Decision1 fill:#FFD700,stroke:#FF8C00,color:#000
    style Decision2 fill:#FFD700,stroke:#FF8C00,color:#000
    style Decision3 fill:#FFD700,stroke:#FF8C00,color:#000
    style Decision4 fill:#FFD700,stroke:#FF8C00,color:#000
    style Parallel1 fill:#87CEEB,stroke:#FFFFFF,color:#000
    style Sync1 fill:#DDA0DD,stroke:#9370DB,color:#000
